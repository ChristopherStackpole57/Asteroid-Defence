using header only definitions because of template restrictions

optimization ideas:
- call order always tracks set of priorities, updated when object added or removed from set